<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://www.fylehq.com/assets/images/favicon/apple-icon-57x57.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Tax Calculator</title>
</head>
<body>
    <div class="col-12 col-md-12 col-lg-12 col-sm-12 col-xl-12 bg-dark">
        <!-- Header -->
        <div class="container">
            <div class="row pt-3 text-white align-items-center">
                <div class="col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8">
                    <h1>Tax Calculator</h1>
                </div>
                <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 text-end">
                    <a href="https://www.linkedin.com/in/aditya-dhanraj-4762a0203/" target="_blank">
                        <img src="assets/images/linkedin.png" width="30px">
                    </a>
                </div>
            </div>
        </div>
        <hr>
        <!-- Header Ends  -->
    </div>
    <div class="col-12 col-md-12 col-lg-12 col-sm-12 col-xl-12">
        <div class="container-fluid">
            <br>
            <!-- About Tax Calculator -->
            <div class="row p-2">
                <div class="col-12 col-md-6 col-sm-6 col-lg-6 col-xl-6 text-center mt-2 mb-5">
                    <img src="assets/images/tax.png" alt="Tax Image" class="w-50">
                </div>
                <div class="col-12 col-md-6 col-sm-6 col-lg-6 col-xl-6 mt-5 mb-5">
                    <h1 class="text-center">What is <span class="text-primary-color poppins-semibold">Tax Calculator?</span></h1>
                    <p class="fs18 text-center">A tax calculator is a tool that helps individuals or businesses estimate the amount of tax they owe or the tax refund they may receive based on certain inputs such as income, deductions, credits, and tax rates. These calculators can be found online or provided by tax preparation software.

                        <br><br>Tax calculators can be useful for planning purposes, allowing taxpayers to understand their tax liability in advance and make informed decisions about financial matters. They can also help individuals ensure that they are withholding the correct amount of taxes from their paychecks throughout the year, minimizing the risk of owing taxes or receiving a large tax bill at the end of the year.
                    </p>
                    <div class="col-12 col-md-12 col-lg-12 col-xl-12 col-sm-12 text-center">
                        <a class="btn btn-warning fs22 poppins-semibold" href="javascript:void(0)" onClick="scrollToCalculatorForm()">Calculate Now</a>
                    </div>
                </div>
            </div>
            <!-- About Tax Calculator Ends -->
            <br>
            <!-- How Tax Calculator Works -->
            <div class="row">
                <div class="col-12 col-md-12 col-lg-12 col-xl-12 col-sm-12 p-5 text-center" style="background: var(--primary-color);">
                    <div class="d-flex">
                        <div class="container">
                            <h3 class="text-center text-white">How Tax Calculator Works?</h3>
                            <h5 class="text-center text-white text-capitalize">Ready to calculate your taxes? Just provide some simple details and click "Calculate" to find out your total tax and overall income! </h5>
                        </div>
                    </div>
                </div>
            </div>
            <!-- How Tax Calculator Works Banner -->
            <!-- Tax Calculator Form -->
            <div class="d-flex" id="tax_calculator_form">
                <div class="container pt-5">
                    <div class="d-flex justify-content-center">
                        <div class="col-12 col-md-6 col-lg-6 col-xl-6 col-sm-12 p-2">
                            <div class="row pb-5">
                                <div class="col-12 col-md-12 col-lg-12 col-xl-12 col-sm-12">
                                    <p class="h1 text-center">Tax Calculator</p>
                                </div>
                                <!-- Gross Income Input -->
                                <div class="col-12 col-md-6 col-lg-6 col-xl-6 col-sm-6 mt-3 mb-3">
                                    <div class="form-group">
                                        <label for="total_income">Enter Gross Annual Income <i class="bi bi-info-circle-fill" data-toggle="tooltip" data-placement="right" title="It is your total salary in a year before any deductions"></i></label>
                                        <div class="d-flex rounded border" id="total_income_div">
                                            <div class="w-100">
                                                <div class="d-flex p-1">
                                                    <input type="text" id="total_income" name="total_income" class="w-75 border-0" oninput="validateInput(this)" placeholder="Enter Total Income">
                                                    <label for="total_income" class="w-25 text-end mx-2">
                                                        <i class="bi bi-exclamation-circle-fill text-danger" style="display: none;" id="total_income_error" data-toggle="tooltip" data-placement="top" title="Please Enter Numbers Only"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Gross Income -->
                                </div>
                                <!-- Extra Income Input -->
                                <div class="col-12 col-md-6 col-lg-6 col-xl-6 col-sm-6 mt-3 mb-3">
                                    <div class="form-group">
                                        <label for="extra_income">Enter Extra Income  <i class="bi bi-info-circle-fill" data-toggle="tooltip" data-placement="right" title="It is your extra income from different sources in a year before any deductions"></i></label>
                                        <div class="d-flex rounded border" id="extra_income_div">
                                            <div class="w-100">
                                                <div class="d-flex p-1">
                                                    <input type="text" id="extra_income" name="extra_income" class="w-75 border-0" oninput="validateInput(this)" placeholder="Enter Extra Income">
                                                    <label for="extra_income" class="w-25 text-end mx-2">
                                                        <i class="bi bi-exclamation-circle-fill text-danger" style="display: none;" id="extra_income_error" data-toggle="tooltip" data-placement="top" title="Please Enter Numbers Only"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Extra Income Input Ends -->
                                </div>
                                <!-- Total Deduction Input -->
                                <div class="col-12 col-md-6 col-lg-6 col-xl-6 col-sm-6 mt-3 mb-3">
                                    <div class="form-group">
                                        <label for="total_deductions">Enter Total Applicable Deductions  <i class="bi bi-info-circle-fill" data-toggle="tooltip" data-placement="right" title="It is your total deductions in a year"></i></label>
                                        <div class="d-flex rounded border" id="total_deductions_div">
                                            <div class="w-100">
                                                <div class="d-flex p-1">
                                                    <input type="text" id="total_deductions" name="total_deductions" class="w-75 border-0" oninput="validateInput(this)" placeholder="Enter Total Deductions">
                                                    <label for="total_deductions" class="w-25 text-end mx-2">
                                                        <i class="bi bi-exclamation-circle-fill text-danger" style="display: none;" id="total_deductions_error" data-toggle="tooltip" data-placement="top" title="Please Enter Numbers Only"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Total Deduction Input Ends -->
                                <!-- Age Range Selector  -->
                                <div class="col-12 col-md-6 col-lg-6 col-xl-6 col-sm-6 mt-3 mb-3">
                                    <div class="form-group">
                                        <label for="age_group">Select Age Group</label>
                                        <select class="form-control" id="age_group" name="age_group" required>
                                            <option value="below_40">Below 40 (30% Tax Charged)</option>
                                            <option value="above_40_less_than_60">Above 40 But Less Than 60 (40% Tax Charged)</option>
                                            <option value="above_60">Above 60 (10% Tax Charged)</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-12 col-md-12 col-lg-12 col-xl-12">
                                    <p id="required_error_message" style="display: none;">Note: All Fields are Mandatory <span class="text-danger">*</span></p>
                                </div>
                                <!-- Age Range Selector Ends  -->
                                <!-- Submit Button -->
                                <div class="col-12 col-md-12 col-lg-12 col-xl-12 col-sm-12 mt-3 mb-3">
                                    <div class="form-group">
                                        <button type="button" class="btn btn-warning w-100 poppins-semibold text-uppercase fs18" onClick="calculateTax()">Calculate</button>
                                    </div>
                                </div>
                                <!-- Submit Button -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal To Show The Tax Result -->
        <div class="modal fade" id="taxAmountShowModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
              <div class="modal-content pt-5">
                <div class="modal-body text-center" id="taxMessageToShow">
                  
                </div>
                <div class="w-100 text-center pb-5">
                    <button type="button" class="btn btn-primary" style="background: var(--primary-color);border-color: var(--primary-color);" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        <!-- Modal To Show The Tax Result ENDS -->
        <!-- Tax Calculator Form Ends -->
    </div>
    <script>
        function calculateTax(){
            // getting all the values from the form fields
            let grossAnnualIncome= document.getElementById("total_income").value;
            let extraIncome= document.getElementById("extra_income").value;
            let totalDeductions= document.getElementById("total_deductions").value;
            let ageGroup= document.getElementById("age_group").value;
            // adding classes for resetting the border error message
            document.getElementById("total_income_div").classList.add("border");
            document.getElementById("total_income_div").classList.remove("red-border");
            document.getElementById("extra_income_div").classList.add("border");
            document.getElementById("extra_income_div").classList.remove("red-border");
            document.getElementById("total_deductions_div").classList.add("border");
            document.getElementById("total_deductions_div").classList.remove("red-border");
            document.getElementById("required_error_message").style.display="none";

            // checking whether the field is empty or is a number or not
            if(grossAnnualIncome=="" || isNaN(grossAnnualIncome)){
                document.getElementById("total_income_div").classList.remove("border");
                document.getElementById("total_income_div").classList.add("red-border");
                document.getElementById("required_error_message").style.display="block";
                return false;
            }
            if(extraIncome=="" || isNaN(extraIncome)){
                document.getElementById("extra_income_div").classList.remove("border");
                document.getElementById("extra_income_div").classList.add("red-border");
                document.getElementById("required_error_message").style.display="block";
                return false;
            }
            if(totalDeductions=="" || isNaN(totalDeductions)){
                document.getElementById("total_deductions_div").classList.remove("border");
                document.getElementById("total_deductions_div").classList.add("red-border");
                document.getElementById("required_error_message").style.display="block";
                return false;
            }

            // declaring required variables 
            let nonTaxableAmount= 800000; // 8 lakh is not taxable
            let taxPercent= 0;
            let taxToBePaid=0;
            // assigning percent on the basis of the tax percent
            if(ageGroup=="below_40"){
                taxPercent=0.3; // 30% 
            }else if(ageGroup=="above_40_less_than_60"){
                taxPercent=0.4; // 40% 
            }else{
                taxPercent=0.1; // 10% 
            }
            // calculating total income 
            let totalIncomeOfYear = parseFloat(grossAnnualIncome)+parseFloat(extraIncome)-parseFloat(totalDeductions);
            // declaring modal for triggering it for the result 
            var modal = new bootstrap.Modal(document.getElementById('taxAmountShowModal'));
            // if the amount is less than the nontaxable amount 
            if(totalIncomeOfYear<=nonTaxableAmount){
                taxToBePaid= 0; 
                document.getElementById("taxMessageToShow").innerHTML =  `
                <div class="col-12 col-md-12 col-lg-12 col-xl-12">
                    <p class="h3 pt-4 text-primary-color">Congratulations! <br/><span class="text-dark h3">You Don't Have To Pay Any Tax</span> </p>
                </div>`;
                modal.show();
            }else{ // if the amount is not less than the nontaxable amount
                let taxableAmount = totalIncomeOfYear-nonTaxableAmount; // 8 lakhs is nonTaxableAmount.
                taxToBePaid= taxableAmount*taxPercent; // calculating the amount of tax to be paid.
                // showing the result 
                document.getElementById("taxMessageToShow").innerHTML = `
                <div class="col-12 col-md-12 col-lg-12 col-xl-12">
                    <div class="row">
                        <div class="col-6 col-md-6" style="border-right: 2px #dee2e6 solid">
                            <p class="h5">Gross Annual Income <span class="h5">(A)</span> <br/><span class="text-primary-color">${parseFloat(grossAnnualIncome).toLocaleString('en-US')}</span> </p>
                        </div>
                        <div class="col-6 col-md-6" style="border-right: 2px #dee2e6 solid">
                            <p class="h5">Extra Income <span class="h5">(B)</span> <br/><span class="text-primary-color">${parseFloat(extraIncome).toLocaleString('en-US')}</span> </p>
                        </div>
                        <div class="col-6 col-md-6 mt-4" style="border-right: 2px #dee2e6 solid">
                            <p class="h5">Total Deductions <span class="h5">(C)</span> <br/><span class="text-primary-color">${parseFloat(totalDeductions).toLocaleString('en-US')}</span> </p>
                        </div>
                        <div class="col-6 col-md-6 mt-4">
                            <p class="h5">Total Tax To Pay <span class="h5">(D)</span> <br/> <span class="text-primary-color">${taxToBePaid.toLocaleString('en-US')}</span></p>
                        </div>
                        <div class="col-12 col-md-12 mt-5" style="border-right: 2px #dee2e6 solid">
                            <p class="h4">Your Overall Income After Tax <span class="h5">(A+B-D)</span> <br/><span class="text-primary-color">${((totalIncomeOfYear+parseFloat(totalDeductions))-taxToBePaid).toLocaleString('en-US')}</span><br> <span class="h6"> Non-Taxable Amount: 8,00,000 <i class="bi bi-info-circle-fill" data-toggle="tooltip" data-placement="right" title="Non-Taxable Amount Will Be Deducted From Your Total Income While Calculating Tax."></i> </span> </p>
                        </div>
                    </div>
                </div>`;
                // triggering the modal 
                modal.show();
            }
        }

        // for checking the input and showing the error message to the user on the input
        function validateInput(input) {
            let errorIdDiv= input.id+'_error';
            // getting the element to trigger the tooltip
            let getTooltipElementDiv = document.getElementById(errorIdDiv);
            // using the bootstrap tooltip to show the error message
            let getToolTipElement = bootstrap.Tooltip.getInstance(getTooltipElementDiv);
            // checking the input field for number 
            if (/[^0-9]/.test(input.value)) {
                // showing the error message
                document.getElementById(errorIdDiv).style.display="inline-block";
                if (!getToolTipElement) {
                    tooltip = new bootstrap.Tooltip(getTooltipElementDiv);
                }
                tooltip.show();
            } else {
                // hiding the error message if no error
                document.getElementById(errorIdDiv).style.display="none";
                if (getToolTipElement) {
                    tooltip.hide();
                }
            }
        }

    </script>
</body>
</html>